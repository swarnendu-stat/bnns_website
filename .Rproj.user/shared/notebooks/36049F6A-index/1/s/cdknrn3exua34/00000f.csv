"0","library(bnns)"
"0",""
"0","# Set a random seed for reproducibility"
"0","set.seed(123)"
"0",""
"0","# Simulate data"
"0","n <- 1000  # Number of samples"
"0","p <- 10    # Number of covariates"
"0","X <- as.data.frame(matrix(runif(n * p, -1, 1), nrow = n, ncol = p))"
"0","colnames(X) <- paste0(""X"", 1:p)"
"0",""
"0","# Treatment mechanism (propensity score)"
"0","ps <- plogis(-2 * X$X1 + 1.5 * X$X2^2 - 0.5 * sin(pi * X$X3))"
"0","A <- rbinom(n, 1, ps)  # Treatment assignment"
"0",""
"0","# Outcome mechanism"
"0","p_Y <- plogis(-1 + 2 * A + 3 * X$X1 * A - 2 * X$X2^2 * A + 1.5 * sin(pi * X$X3))"
"0","Y <- rbinom(n, 1, p_Y)  # Binary outcome"
"0",""
"0","# Combine into a single dataset"
"0","sim_data <- cbind.data.frame(Y, A, X)"
"0",""
"0","# True ATE for comparison"
"0","true_ate <- mean(plogis(-1 + 2 * 1 + 3 * X$X1 * 1 - 2 * X$X2^2 * 1 + 1.5 * sin(pi * X$X3))) -"
"0","  mean(plogis(-1 + 2 * 0 + 3 * X$X1 * 0 - 2 * X$X2^2 * 0 + 1.5 * sin(pi * X$X3)))"
"0","true_ate"
"1","[1]"
"1"," 0.2328369"
"1","
"
