"0","library(bnns)"
"0",""
"0","# Set a random seed for reproducibility"
"0","set.seed(123)"
"0",""
"0","# Simulate data"
"0","n <- 1000  # Number of samples"
"0","X1 <- rnorm(n)"
"0","X2 <- rnorm(n)"
"0","U <- rbinom(n, 1, 0.5)  # Unmeasured confounder"
"0",""
"0","# Treatment mechanism (biased by U)"
"0","ps <- plogis(0.5 * X1 - 0.5 * X2 + 0.8 * U)"
"0","A <- rbinom(n, 1, ps)  # Treatment assignment"
"0",""
"0","# Outcome mechanism (non-linear and confounded by U)"
"0","Y_prob <- plogis(1 + 2 * X1^2 - 1.5 * X2 + 1.2 * A + 1.5 * U)"
"0","Y <- rbinom(n, 1, Y_prob)"
"0",""
"0","# Combine into a dataset"
"0","sim_data <- data.frame(Y, A, X1, X2)"
"0",""
"0","# True ATE for comparison"
"0","true_ate <- mean(plogis(1 + 2 * X1^2 - 1.5 * X2 + 1.2 * 1 + 1.5 * U)) -"
"0","  mean(plogis(1 + 2 * X1^2 - 1.5 * X2 + 1.2 * 0 + 1.5 * U))"
"0","true_ate"
"1","[1]"
"1"," 0.07431068"
"1","
"
