<!DOCTYPE html>
<html lang="en" dir="ltr">
    <head><meta charset='utf-8'>
<meta name='viewport' content='width=device-width, initial-scale=1'><meta name='description' content="Introduction This presentation explores the performance differences between base R and the dplyr package for various data manipulation tasks.\nWhile dplyr is renowned for its intuitive syntax and efficiency, base R functions can sometimes outperform it, particularly in large simulations. Understanding these differences can aid in making informed decisions when choosing data wrangling techniques.\nThe Iris Dataset The iris dataset is a classic dataset in statistics and machine learning, often used for demonstrating data manipulation and analysis techniques.\n">
<title>Power of Base R: A Performance Comparison with dplyr</title>

<link rel='canonical' href='https://swarnendu-stat.netlify.app/2025/01/power-of-base-r/'>

<link rel="stylesheet" href="/scss/style.min.663803bebe609202d5b39d848f2d7c2dc8b598a2d879efa079fa88893d29c49c.css"><meta property='og:title' content="Power of Base R: A Performance Comparison with dplyr">
<meta property='og:description' content="Introduction This presentation explores the performance differences between base R and the dplyr package for various data manipulation tasks.\nWhile dplyr is renowned for its intuitive syntax and efficiency, base R functions can sometimes outperform it, particularly in large simulations. Understanding these differences can aid in making informed decisions when choosing data wrangling techniques.\nThe Iris Dataset The iris dataset is a classic dataset in statistics and machine learning, often used for demonstrating data manipulation and analysis techniques.\n">
<meta property='og:url' content='https://swarnendu-stat.netlify.app/2025/01/power-of-base-r/'>
<meta property='og:site_name' content='Welcome to My R Blog'>
<meta property='og:type' content='article'><meta property='article:section' content='Post' /><meta property='article:tag' content='R' /><meta property='article:tag' content='dplyr' /><meta property='article:tag' content='tidyverse' /><meta property='article:tag' content='base R' /><meta property='article:published_time' content='2025-01-17T22:32:22&#43;05:30'/><meta property='article:modified_time' content='2025-01-17T22:32:22&#43;05:30'/><meta property='og:image' content='https://x.com/SwarnenduStat/photo' />
<meta name="twitter:site" content="@https://x.com/SwarnenduStat">
    <meta name="twitter:creator" content="@https://x.com/SwarnenduStat"><meta name="twitter:title" content="Power of Base R: A Performance Comparison with dplyr">
<meta name="twitter:description" content="Introduction This presentation explores the performance differences between base R and the dplyr package for various data manipulation tasks.\nWhile dplyr is renowned for its intuitive syntax and efficiency, base R functions can sometimes outperform it, particularly in large simulations. Understanding these differences can aid in making informed decisions when choosing data wrangling techniques.\nThe Iris Dataset The iris dataset is a classic dataset in statistics and machine learning, often used for demonstrating data manipulation and analysis techniques.\n"><meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:image" content='https://x.com/SwarnenduStat/photo' />
    <link rel="shortcut icon" href="/static/favicon.ico" />
    <meta name="google-site-verification" content="QLHWz1H9o5x-4F4pUJu_Cy2gHT1O-jJz_xpdEBu69nM" />
  

    </head>
    <body class="
    article-page
    ">
    <script>
        (function() {
            const colorSchemeKey = 'StackColorScheme';
            if(!localStorage.getItem(colorSchemeKey)){
                localStorage.setItem(colorSchemeKey, "auto");
            }
        })();
    </script><script>
    (function() {
        const colorSchemeKey = 'StackColorScheme';
        const colorSchemeItem = localStorage.getItem(colorSchemeKey);
        const supportDarkMode = window.matchMedia('(prefers-color-scheme: dark)').matches === true;

        if (colorSchemeItem == 'dark' || colorSchemeItem === 'auto' && supportDarkMode) {
            

            document.documentElement.dataset.scheme = 'dark';
        } else {
            document.documentElement.dataset.scheme = 'light';
        }
    })();
</script>
<div class="container main-container flex on-phone--column compact"><aside class="sidebar left-sidebar sticky ">
    <button class="hamburger hamburger--spin" type="button" id="toggle-menu" aria-label="Toggle Menu">
        <span class="hamburger-box">
            <span class="hamburger-inner"></span>
        </span>
    </button>

    <header>
        
            
            <figure class="site-avatar">
                <a href="/">
                
                    
                    
                    
                        
                        <img src="/img/avatar_hu_a76b8da90d73b17e.jpg" width="300"
                            height="293" class="site-logo" loading="lazy" alt="Avatar">
                    
                
                </a>
                
                    <span class="emoji">üå±</span>
                
            </figure>
            
        
        
        <div class="site-meta">
            <h1 class="site-name"><a href="/">Welcome to My R Blog</a></h1>
            <h2 class="site-description">Biostat, Bayes &amp; Blogdown  
‚ú®Statistically Speaking
üìç India
</h2>
        </div>
    </header><ol class="menu" id="main-menu">
        
        
        <li class="menu-bottom-section">
            <ol class="menu">

                
                    <li id="dark-mode-toggle">
                        <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-toggle-left" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <circle cx="8" cy="12" r="2" />
  <rect x="2" y="6" width="20" height="12" rx="6" />
</svg>



                        <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-toggle-right" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <circle cx="16" cy="12" r="2" />
  <rect x="2" y="6" width="20" height="12" rx="6" />
</svg>



                        <span>Dark Mode</span>
                    </li>
                
            </ol>
        </li>
    </ol>
</aside>

    

            <main class="main full-width">
    <article class="main-article">
    <header class="article-header">

    <div class="article-details">
    
    <header class="article-category">
        
            <a href="/categories/r/" >
                R
            </a>
        
            <a href="/categories/dplyr/" >
                Dplyr
            </a>
        
            <a href="/categories/tidyverse/" >
                Tidyverse
            </a>
        
            <a href="/categories/base-r/" >
                Base R
            </a>
        
    </header>
    

    <div class="article-title-wrapper">
        <h2 class="article-title">
            <a href="/2025/01/power-of-base-r/">Power of Base R: A Performance Comparison with dplyr</a>
        </h2>
    
        
    </div>

    
    
    
    
    <footer class="article-time">
        
            <div>
                <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-calendar-time" width="56" height="56" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <path d="M11.795 21h-6.795a2 2 0 0 1 -2 -2v-12a2 2 0 0 1 2 -2h12a2 2 0 0 1 2 2v4" />
  <circle cx="18" cy="18" r="4" />
  <path d="M15 3v4" />
  <path d="M7 3v4" />
  <path d="M3 11h16" />
  <path d="M18 16.496v1.504l1 1" />
</svg>
                <time class="article-time--published">Jan 17, 2025</time>
            </div>
        

        
            <div>
                <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-clock" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <circle cx="12" cy="12" r="9" />
  <polyline points="12 7 12 12 15 15" />
</svg>



                <time class="article-time--reading">
                    9 minute read
                </time>
            </div>
        
    </footer>
    

    
</div>

</header>

    <section class="article-content">
    
    
    <h2 id="introduction"><a href="#introduction" class="header-anchor"></a>Introduction
</h2><p>This presentation explores the performance differences between base R and the dplyr package for various data manipulation tasks.</p>
<ul>
<li>While dplyr is renowned for its intuitive syntax and efficiency,</li>
<li>base R functions can sometimes outperform it, particularly in large simulations.</li>
</ul>
<p>Understanding these differences can aid in making informed decisions when choosing data wrangling techniques.</p>
<h2 id="the-iris-dataset"><a href="#the-iris-dataset" class="header-anchor"></a>The Iris Dataset
</h2><ul>
<li>
<p>The <strong>iris</strong> dataset is a classic dataset in statistics and machine learning, often used for demonstrating data manipulation and analysis techniques.</p>
</li>
<li>
<p>It contains measurements of flower characteristics for three species of iris: <em>setosa</em>, <em>versicolor</em>, and <em>virginica</em>.</p>
</li>
<li>
<p>Key Features:</p>
</li>
<li>
<p><strong>150 observations</strong>: 50 samples for each species.</p>
</li>
<li>
<p><strong>4 numeric attributes</strong>: Sepal.Length, Sepal.Width, Petal.Length, Petal.Width</p>
</li>
<li>
<p><strong>1 categorical attribute</strong>: Species: The species of the iris flower (<em>setosa</em>, <em>versicolor</em>, <em>virginica</em>).</p>
</li>
</ul>
<h2 id="the-iris-dataset-continued"><a href="#the-iris-dataset-continued" class="header-anchor"></a>The Iris Dataset (continued)
</h2><pre tabindex="0"><code>    Sepal.Length Sepal.Width Petal.Length Petal.Width    Species
1            5.1         3.5          1.4         0.2     setosa
2            4.9         3.0          1.4         0.2     setosa
3            4.7         3.2          1.3         0.2     setosa
51           7.0         3.2          4.7         1.4 versicolor
52           6.4         3.2          4.5         1.5 versicolor
53           6.9         3.1          4.9         1.5 versicolor
101          6.3         3.3          6.0         2.5  virginica
102          5.8         2.7          5.1         1.9  virginica
103          7.1         3.0          5.9         2.1  virginica
</code></pre><img src="https://swarnendu-stat.netlify.app/2025/01/power-of-base-r/index_files/figure-html/unnamed-chunk-1-1.png" width="672" />
<h2 id="benchmarking-data-manipulation-tasks"><a href="#benchmarking-data-manipulation-tasks" class="header-anchor"></a>Benchmarking Data Manipulation Tasks
</h2><h2 id="1-filter-rows"><a href="#1-filter-rows" class="header-anchor"></a>1. Filter Rows
</h2><p>Filtering rows is a common operation in data analysis. This section benchmarks the efficiency of base R‚Äôs subsetting approaches against the dplyr::filter function. While dplyr provides clean syntax, base R‚Äôs performance is more efficient.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-r" data-lang="r"><span style="display:flex;"><span>mcb_filter <span style="color:#f92672">&lt;-</span> <span style="color:#a6e22e">microbenchmark</span>(
</span></span><span style="display:flex;"><span>base_0 <span style="color:#f92672">=</span> iris[iris<span style="color:#f92672">$</span>Species <span style="color:#f92672">==</span> <span style="color:#e6db74">&#34;setosa&#34;</span>, ],
</span></span><span style="display:flex;"><span>base_1 <span style="color:#f92672">=</span> <span style="color:#a6e22e">subset</span>(iris, Species <span style="color:#f92672">==</span> <span style="color:#e6db74">&#34;setosa&#34;</span>),
</span></span><span style="display:flex;"><span>dplyr <span style="color:#f92672">=</span> <span style="color:#a6e22e">filter</span>(iris, Species <span style="color:#f92672">==</span> <span style="color:#e6db74">&#34;setosa&#34;</span>),
</span></span><span style="display:flex;"><span>times <span style="color:#f92672">=</span> <span style="color:#ae81ff">1e3</span>
</span></span><span style="display:flex;"><span>)
</span></span><span style="display:flex;"><span>mcb_filter
</span></span></code></pre></div><pre tabindex="0"><code>Unit: microseconds
   expr   min     lq     mean median    uq    max neval cld
 base_0  28.0  32.70  42.0561  37.90  49.5  218.6  1000 a  
 base_1  37.5  46.95  59.3593  56.65  68.8  261.2  1000  b 
  dplyr 369.9 404.85 451.8073 421.30 440.1 2846.6  1000   c
</code></pre><hr>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-r" data-lang="r"><span style="display:flex;"><span><span style="color:#a6e22e">autoplot</span>(mcb_filter) <span style="color:#f92672">+</span> <span style="color:#a6e22e">ggtitle</span>(<span style="color:#e6db74">&#34;Filter: Base R vs dplyr&#34;</span>)
</span></span></code></pre></div><img src="https://swarnendu-stat.netlify.app/2025/01/power-of-base-r/index_files/figure-html/unnamed-chunk-2-1.png" width="672" />
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-r" data-lang="r"><span style="display:flex;"><span>agg_filter <span style="color:#f92672">&lt;-</span> <span style="color:#a6e22e">aggregate</span>(time <span style="color:#f92672">~</span> expr, data <span style="color:#f92672">=</span> <span style="color:#a6e22e">data.frame</span>(mcb_filter), mean)<span style="color:#f92672">$</span>time
</span></span></code></pre></div><p>So, base R code is on average 11 times <strong>faster</strong> than dplyr::filter. The absolute difference in 10k simulations is 4.097512 seconds.</p>
<h2 id="2-select-columns"><a href="#2-select-columns" class="header-anchor"></a>2. Select Columns
</h2><p>Selecting specific columns is fundamental to narrowing down datasets. The comparison here shows how base R indexing and the subset function stack up against dplyr::select in terms of speed.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-r" data-lang="r"><span style="display:flex;"><span>mcb_select <span style="color:#f92672">&lt;-</span> <span style="color:#a6e22e">microbenchmark</span>(
</span></span><span style="display:flex;"><span>base_0 <span style="color:#f92672">=</span> iris[, <span style="color:#a6e22e">c</span>(<span style="color:#e6db74">&#34;Sepal.Length&#34;</span>, <span style="color:#e6db74">&#34;Petal.Length&#34;</span>)],
</span></span><span style="display:flex;"><span>base_1 <span style="color:#f92672">=</span> <span style="color:#a6e22e">subset</span>(iris, select <span style="color:#f92672">=</span> <span style="color:#a6e22e">c</span>(Sepal.Length, Petal.Length)),
</span></span><span style="display:flex;"><span>dplyr <span style="color:#f92672">=</span> <span style="color:#a6e22e">select</span>(iris, Sepal.Length, Petal.Length),
</span></span><span style="display:flex;"><span>times <span style="color:#f92672">=</span> <span style="color:#ae81ff">1e3</span>
</span></span><span style="display:flex;"><span>)
</span></span><span style="display:flex;"><span>mcb_select
</span></span></code></pre></div><pre tabindex="0"><code>Unit: microseconds
   expr   min     lq     mean median    uq    max neval cld
 base_0   5.7   6.65   9.0531   9.60  10.6   49.3  1000 a  
 base_1  25.1  32.60  43.7883  44.75  48.6 2026.9  1000  b 
  dplyr 433.1 465.30 498.3363 478.00 497.7 2342.9  1000   c
</code></pre><hr>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-r" data-lang="r"><span style="display:flex;"><span><span style="color:#a6e22e">autoplot</span>(mcb_select) <span style="color:#f92672">+</span> <span style="color:#a6e22e">ggtitle</span>(<span style="color:#e6db74">&#34;Select: Base R vs dplyr&#34;</span>)
</span></span></code></pre></div><img src="https://swarnendu-stat.netlify.app/2025/01/power-of-base-r/index_files/figure-html/unnamed-chunk-4-1.png" width="672" />
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-r" data-lang="r"><span style="display:flex;"><span>agg_select <span style="color:#f92672">&lt;-</span> <span style="color:#a6e22e">aggregate</span>(time <span style="color:#f92672">~</span> expr, data <span style="color:#f92672">=</span> <span style="color:#a6e22e">data.frame</span>(mcb_select), mean)<span style="color:#f92672">$</span>time
</span></span></code></pre></div><p>So, base R code is on average 55 times <strong>faster</strong> than dplyr::select. The absolute difference in 10k simulations is 4.892832 seconds.</p>
<h2 id="3-addmodify-columns"><a href="#3-addmodify-columns" class="header-anchor"></a>3. Add/Modify Columns
</h2><p>Adding or modifying columns is crucial for feature engineering. Base R provides multiple methods for this, which are benchmarked here against dplyr::mutate for their computational efficiency.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-r" data-lang="r"><span style="display:flex;"><span>mcb_mutate <span style="color:#f92672">&lt;-</span> <span style="color:#a6e22e">microbenchmark</span>(
</span></span><span style="display:flex;"><span>base_0 <span style="color:#f92672">=</span> {iris<span style="color:#f92672">$</span>Sepal_LbyW <span style="color:#f92672">&lt;-</span> iris<span style="color:#f92672">$</span>Sepal.Length <span style="color:#f92672">/</span> iris<span style="color:#f92672">$</span>Sepal.Width},
</span></span><span style="display:flex;"><span>base_1 <span style="color:#f92672">=</span> <span style="color:#a6e22e">transform</span>(iris, Sepal_LbyW <span style="color:#f92672">=</span> Sepal.Length <span style="color:#f92672">/</span> Sepal.Width),
</span></span><span style="display:flex;"><span>dplyr <span style="color:#f92672">=</span> <span style="color:#a6e22e">mutate</span>(iris, Sepal_LbyW <span style="color:#f92672">=</span> Sepal.Length <span style="color:#f92672">/</span> Sepal.Width),
</span></span><span style="display:flex;"><span>times <span style="color:#f92672">=</span> <span style="color:#ae81ff">1e3</span>
</span></span><span style="display:flex;"><span>)
</span></span><span style="display:flex;"><span>mcb_mutate
</span></span></code></pre></div><pre tabindex="0"><code>Unit: microseconds
   expr   min     lq     mean median     uq    max neval cld
 base_0   3.1   4.10   6.5303   6.80   8.00  127.7  1000 a  
 base_1  27.0  38.65  49.2795  49.05  58.50  166.4  1000  b 
  dplyr 365.4 400.85 434.6963 414.40 434.95 2154.6  1000   c
</code></pre><hr>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-r" data-lang="r"><span style="display:flex;"><span><span style="color:#a6e22e">autoplot</span>(mcb_mutate) <span style="color:#f92672">+</span> <span style="color:#a6e22e">ggtitle</span>(<span style="color:#e6db74">&#34;Mutate: Base R vs dplyr&#34;</span>)
</span></span></code></pre></div><img src="https://swarnendu-stat.netlify.app/2025/01/power-of-base-r/index_files/figure-html/unnamed-chunk-6-1.png" width="672" />
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-r" data-lang="r"><span style="display:flex;"><span>agg_mutate <span style="color:#f92672">&lt;-</span> <span style="color:#a6e22e">aggregate</span>(time <span style="color:#f92672">~</span> expr, data <span style="color:#f92672">=</span> <span style="color:#a6e22e">data.frame</span>(mcb_mutate), mean)<span style="color:#f92672">$</span>time
</span></span></code></pre></div><p>So, base R code is on average 67 times <strong>faster</strong> than dplyr::mutate. The absolute difference in 10k simulations is 4.28166 seconds.</p>
<h2 id="4-summarise-data"><a href="#4-summarise-data" class="header-anchor"></a>4. Summarise Data
</h2><p>Data summarization helps derive aggregate metrics. This section compares colMeans from base R with dplyr::summarise_if, illustrating their relative performance in summarizing numeric columns.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-r" data-lang="r"><span style="display:flex;"><span>mcb_summarise <span style="color:#f92672">&lt;-</span> <span style="color:#a6e22e">microbenchmark</span>(
</span></span><span style="display:flex;"><span>base_0 <span style="color:#f92672">=</span> <span style="color:#a6e22e">with</span>(iris, <span style="color:#a6e22e">data.frame</span>(Sepal_L_mean <span style="color:#f92672">=</span> <span style="color:#a6e22e">mean</span>(Sepal.Length), Sepal_W_sd <span style="color:#f92672">=</span> <span style="color:#a6e22e">sd</span>(Sepal.Width),
</span></span><span style="display:flex;"><span>Petal_L_mean <span style="color:#f92672">=</span> <span style="color:#a6e22e">mean</span>(Petal.Length), Petal_W_sd <span style="color:#f92672">=</span> <span style="color:#a6e22e">sd</span>(Petal.Width))),
</span></span><span style="display:flex;"><span>dplyr <span style="color:#f92672">=</span> <span style="color:#a6e22e">summarise</span>(iris, Sepal_L_mean <span style="color:#f92672">=</span> <span style="color:#a6e22e">mean</span>(Sepal.Length), Sepal_W_sd <span style="color:#f92672">=</span> <span style="color:#a6e22e">sd</span>(Sepal.Width),
</span></span><span style="display:flex;"><span>Petal_L_mean <span style="color:#f92672">=</span> <span style="color:#a6e22e">mean</span>(Petal.Length), Petal_W_sd <span style="color:#f92672">=</span> <span style="color:#a6e22e">sd</span>(Petal.Width)),
</span></span><span style="display:flex;"><span>times <span style="color:#f92672">=</span> <span style="color:#ae81ff">1e3</span>
</span></span><span style="display:flex;"><span>)
</span></span><span style="display:flex;"><span>mcb_summarise
</span></span></code></pre></div><pre tabindex="0"><code>Unit: microseconds
   expr   min    lq     mean median     uq    max neval cld
 base_0 114.9 139.8 167.7646  171.7 184.95 2365.9  1000  a 
  dplyr 627.7 685.1 729.6822  707.7 729.10 2497.4  1000   b
</code></pre><hr>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-r" data-lang="r"><span style="display:flex;"><span><span style="color:#a6e22e">autoplot</span>(mcb_summarise) <span style="color:#f92672">+</span> <span style="color:#a6e22e">ggtitle</span>(<span style="color:#e6db74">&#34;Summarise: Base R vs dplyr&#34;</span>)
</span></span></code></pre></div><img src="https://swarnendu-stat.netlify.app/2025/01/power-of-base-r/index_files/figure-html/unnamed-chunk-8-1.png" width="672" />
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-r" data-lang="r"><span style="display:flex;"><span>agg_summarise <span style="color:#f92672">&lt;-</span> <span style="color:#a6e22e">aggregate</span>(time <span style="color:#f92672">~</span> expr, data <span style="color:#f92672">=</span> <span style="color:#a6e22e">data.frame</span>(mcb_summarise), mean)<span style="color:#f92672">$</span>time
</span></span></code></pre></div><p>So, base R code is on average 4 times <strong>faster</strong> than dplyr::summarise. The absolute difference in 10k simulations is 5.619176 seconds.</p>
<h2 id="5-grouped-summary"><a href="#5-grouped-summary" class="header-anchor"></a>5. Grouped Summary
</h2><p>Aggregating data by groups is often required for advanced analytics. Base R‚Äôs aggregate function is tested here against dplyr&rsquo;s group_by and summarise_all functions to highlight performance differences.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-r" data-lang="r"><span style="display:flex;"><span>mcb_grp <span style="color:#f92672">&lt;-</span> <span style="color:#a6e22e">microbenchmark</span>(
</span></span><span style="display:flex;"><span>base_0 <span style="color:#f92672">=</span> <span style="color:#a6e22e">aggregate</span>(. <span style="color:#f92672">~</span> Species, data <span style="color:#f92672">=</span> iris, FUN <span style="color:#f92672">=</span> mean, na.rm <span style="color:#f92672">=</span> <span style="color:#66d9ef">TRUE</span>),
</span></span><span style="display:flex;"><span>dplyr <span style="color:#f92672">=</span> iris <span style="color:#f92672">|&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">group_by</span>(Species) <span style="color:#f92672">|&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">summarise_all</span>(mean, na.rm <span style="color:#f92672">=</span> <span style="color:#66d9ef">TRUE</span>) <span style="color:#f92672">|&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">ungroup</span>(),
</span></span><span style="display:flex;"><span>times <span style="color:#f92672">=</span> <span style="color:#ae81ff">1e3</span>
</span></span><span style="display:flex;"><span>)
</span></span><span style="display:flex;"><span>mcb_grp
</span></span></code></pre></div><pre tabindex="0"><code>Unit: microseconds
   expr    min      lq      mean median      uq     max neval cld
 base_0  657.0  741.95  795.2686  765.7  801.60  3292.2  1000  a 
  dplyr 2128.8 2225.50 2392.1440 2291.4 2386.75 14798.6  1000   b
</code></pre><hr>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-r" data-lang="r"><span style="display:flex;"><span><span style="color:#a6e22e">autoplot</span>(mcb_grp) <span style="color:#f92672">+</span> <span style="color:#a6e22e">ggtitle</span>(<span style="color:#e6db74">&#34;Grouped Summarise: Base R vs dplyr&#34;</span>)
</span></span></code></pre></div><img src="https://swarnendu-stat.netlify.app/2025/01/power-of-base-r/index_files/figure-html/unnamed-chunk-10-1.png" width="672" />
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-r" data-lang="r"><span style="display:flex;"><span>agg_grp <span style="color:#f92672">&lt;-</span> <span style="color:#a6e22e">aggregate</span>(time <span style="color:#f92672">~</span> expr, data <span style="color:#f92672">=</span> <span style="color:#a6e22e">data.frame</span>(mcb_grp), mean)<span style="color:#f92672">$</span>time
</span></span></code></pre></div><p>So, base R code is on average 3 times <strong>faster</strong> than dplyr::grp. The absolute difference in 10k simulations is 15.968754 seconds.</p>
<h2 id="6-sort-data"><a href="#6-sort-data" class="header-anchor"></a>6. Sort Data
</h2><p>Sorting is essential for ordering data before visualization or further analysis. The benchmarks here compare the classic base R order approach to the elegant dplyr::arrange.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-r" data-lang="r"><span style="display:flex;"><span>mcb_sort <span style="color:#f92672">&lt;-</span> <span style="color:#a6e22e">microbenchmark</span>(
</span></span><span style="display:flex;"><span>base_0 <span style="color:#f92672">=</span> iris<span style="color:#a6e22e">[with</span>(iris, <span style="color:#a6e22e">order</span>(Sepal.Length, Petal.Length)), ],
</span></span><span style="display:flex;"><span>dplyr <span style="color:#f92672">=</span> <span style="color:#a6e22e">arrange</span>(iris, Sepal.Length, Petal.Length),
</span></span><span style="display:flex;"><span>times <span style="color:#f92672">=</span> <span style="color:#ae81ff">1e3</span>
</span></span><span style="display:flex;"><span>)
</span></span><span style="display:flex;"><span>mcb_sort
</span></span></code></pre></div><pre tabindex="0"><code>Unit: microseconds
   expr    min     lq      mean median      uq    max neval cld
 base_0   40.2   51.7   69.1362   72.8   78.95 1888.6  1000  a 
  dplyr 1343.6 1392.6 1485.4011 1437.6 1498.70 3672.0  1000   b
</code></pre><hr>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-r" data-lang="r"><span style="display:flex;"><span><span style="color:#a6e22e">autoplot</span>(mcb_sort) <span style="color:#f92672">+</span> <span style="color:#a6e22e">ggtitle</span>(<span style="color:#e6db74">&#34;Sort: Base R vs dplyr&#34;</span>)
</span></span></code></pre></div><img src="https://swarnendu-stat.netlify.app/2025/01/power-of-base-r/index_files/figure-html/unnamed-chunk-12-1.png" width="672" />
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-r" data-lang="r"><span style="display:flex;"><span>agg_sort <span style="color:#f92672">&lt;-</span> <span style="color:#a6e22e">aggregate</span>(time <span style="color:#f92672">~</span> expr, data <span style="color:#f92672">=</span> <span style="color:#a6e22e">data.frame</span>(mcb_sort), mean)<span style="color:#f92672">$</span>time
</span></span></code></pre></div><p>So, base R code is on average 21 times <strong>faster</strong> than dplyr::arrange. The absolute difference in 10k simulations is 14.162649 seconds.</p>
<h2 id="7-join-data"><a href="#7-join-data" class="header-anchor"></a>7. Join Data
</h2><p>Data joins are indispensable when working with relational datasets. This section demonstrates the efficiency of base R‚Äôs merge function compared to dplyr::left_join.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-r" data-lang="r"><span style="display:flex;"><span>iris<span style="color:#f92672">$</span>id <span style="color:#f92672">&lt;-</span> <span style="color:#a6e22e">sample.int</span>(<span style="color:#a6e22e">nrow</span>(iris), replace <span style="color:#f92672">=</span> <span style="color:#66d9ef">FALSE</span>)
</span></span><span style="display:flex;"><span>iris2 <span style="color:#f92672">&lt;-</span> iris<span style="color:#a6e22e">[sample</span>(<span style="color:#a6e22e">nrow</span>(iris)),]
</span></span><span style="display:flex;"><span>mcb_join <span style="color:#f92672">&lt;-</span> <span style="color:#a6e22e">microbenchmark</span>(
</span></span><span style="display:flex;"><span>base_0 <span style="color:#f92672">=</span> <span style="color:#a6e22e">merge</span>(iris, iris2, by <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;id&#34;</span>, all.x <span style="color:#f92672">=</span> <span style="color:#66d9ef">TRUE</span>),
</span></span><span style="display:flex;"><span>dplyr <span style="color:#f92672">=</span> <span style="color:#a6e22e">left_join</span>(iris, iris2, by <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;id&#34;</span>),
</span></span><span style="display:flex;"><span>times <span style="color:#f92672">=</span> <span style="color:#ae81ff">1e3</span>
</span></span><span style="display:flex;"><span>)
</span></span><span style="display:flex;"><span>mcb_join
</span></span></code></pre></div><pre tabindex="0"><code>Unit: microseconds
   expr   min     lq     mean median     uq     max neval cld
 base_0 256.3 313.65 357.0383 344.80 376.75  2629.4  1000  a 
  dplyr 696.3 765.05 921.3512 800.45 835.75 75403.2  1000   b
</code></pre><hr>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-r" data-lang="r"><span style="display:flex;"><span><span style="color:#a6e22e">autoplot</span>(mcb_join) <span style="color:#f92672">+</span> <span style="color:#a6e22e">ggtitle</span>(<span style="color:#e6db74">&#34;Join: Base R vs dplyr&#34;</span>)
</span></span></code></pre></div><img src="https://swarnendu-stat.netlify.app/2025/01/power-of-base-r/index_files/figure-html/unnamed-chunk-14-1.png" width="672" />
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-r" data-lang="r"><span style="display:flex;"><span>agg_join <span style="color:#f92672">&lt;-</span> <span style="color:#a6e22e">aggregate</span>(time <span style="color:#f92672">~</span> expr, data <span style="color:#f92672">=</span> <span style="color:#a6e22e">data.frame</span>(mcb_join), mean)<span style="color:#f92672">$</span>time
</span></span></code></pre></div><p>So, base R code is on average 3 times <strong>faster</strong> than dplyr::left_join. The absolute difference in 10k simulations is 5.643129 seconds.</p>
<h2 id="8-group-and-apply-function-1"><a href="#8-group-and-apply-function-1" class="header-anchor"></a>8. Group and Apply Function 1
</h2><p>Applying models or transformations to groups of data is a frequent task in statistical workflows. This benchmark showcases the performance of split and lapply in base R versus dplyr::group_map.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-r" data-lang="r"><span style="display:flex;"><span>mcb_grp_map <span style="color:#f92672">&lt;-</span> <span style="color:#a6e22e">microbenchmark</span>(
</span></span><span style="display:flex;"><span>base_0 <span style="color:#f92672">=</span> <span style="color:#a6e22e">lapply</span>(<span style="color:#a6e22e">split</span>(iris, iris<span style="color:#f92672">$</span>Species), <span style="color:#66d9ef">function</span>(x) <span style="color:#a6e22e">lm</span>(Sepal.Length <span style="color:#f92672">~</span> Petal.Length, data <span style="color:#f92672">=</span> x)),
</span></span><span style="display:flex;"><span>dplyr <span style="color:#f92672">=</span> iris <span style="color:#f92672">|&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">group_by</span>(Species) <span style="color:#f92672">|&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">group_map</span>(<span style="color:#f92672">~</span> <span style="color:#a6e22e">lm</span>(Sepal.Length <span style="color:#f92672">~</span> Petal.Length, data <span style="color:#f92672">=</span> .x)),
</span></span><span style="display:flex;"><span>times <span style="color:#f92672">=</span> <span style="color:#ae81ff">1e3</span>
</span></span><span style="display:flex;"><span>)
</span></span><span style="display:flex;"><span>mcb_grp_map
</span></span></code></pre></div><pre tabindex="0"><code>Unit: microseconds
   expr    min      lq      mean  median      uq    max neval cld
 base_0  784.3  840.40  911.4024  865.75  905.30 3135.7  1000  a 
  dplyr 2450.7 2534.55 2684.8511 2598.80 2694.35 7384.0  1000   b
</code></pre><hr>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-r" data-lang="r"><span style="display:flex;"><span><span style="color:#a6e22e">autoplot</span>(mcb_grp_map) <span style="color:#f92672">+</span> <span style="color:#a6e22e">ggtitle</span>(<span style="color:#e6db74">&#34;Group Map: Base R vs dplyr&#34;</span>)
</span></span></code></pre></div><img src="https://swarnendu-stat.netlify.app/2025/01/power-of-base-r/index_files/figure-html/unnamed-chunk-16-1.png" width="672" />
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-r" data-lang="r"><span style="display:flex;"><span>agg_grp_map <span style="color:#f92672">&lt;-</span> <span style="color:#a6e22e">aggregate</span>(time <span style="color:#f92672">~</span> expr, data <span style="color:#f92672">=</span> <span style="color:#a6e22e">data.frame</span>(mcb_grp_map), mean)<span style="color:#f92672">$</span>time
</span></span></code></pre></div><p>So, base R code is on average 3 times <strong>faster</strong> than dplyr::group_map. The absolute difference in 10k simulations is 17.734487 seconds.</p>
<h2 id="9-group-and-apply-function-2"><a href="#9-group-and-apply-function-2" class="header-anchor"></a>9. Group and Apply Function 2
</h2><p>Complex operations on grouped data are common in analytical pipelines. This comparison highlights the performance of base R‚Äôs split and lapply with a row-binding step versus dplyr::group_modify.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-r" data-lang="r"><span style="display:flex;"><span>mcb_grp_mod <span style="color:#f92672">&lt;-</span> <span style="color:#a6e22e">microbenchmark</span>(
</span></span><span style="display:flex;"><span>base_0 <span style="color:#f92672">=</span> <span style="color:#a6e22e">do.call</span>(rbind, <span style="color:#a6e22e">lapply</span>(<span style="color:#a6e22e">split</span>(iris, iris<span style="color:#f92672">$</span>Species), <span style="color:#66d9ef">function</span>(x) 
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">data.frame</span>(<span style="color:#a6e22e">summary</span>(<span style="color:#a6e22e">lm</span>(Sepal.Length <span style="color:#f92672">~</span> Petal.Length, data <span style="color:#f92672">=</span> x))<span style="color:#f92672">$</span>coefficients))),
</span></span><span style="display:flex;"><span>dplyr <span style="color:#f92672">=</span> iris <span style="color:#f92672">|&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">group_by</span>(Species) <span style="color:#f92672">|&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">group_modify</span>(<span style="color:#f92672">~</span> <span style="color:#a6e22e">data.frame</span>(<span style="color:#a6e22e">summary</span>(<span style="color:#a6e22e">lm</span>(Sepal.Length <span style="color:#f92672">~</span> Petal.Length, data <span style="color:#f92672">=</span> .x))<span style="color:#f92672">$</span>coefficients)) <span style="color:#f92672">|&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">ungroup</span>(),
</span></span><span style="display:flex;"><span>times <span style="color:#f92672">=</span> <span style="color:#ae81ff">1e3</span>
</span></span><span style="display:flex;"><span>)
</span></span><span style="display:flex;"><span>mcb_grp_mod
</span></span></code></pre></div><pre tabindex="0"><code>Unit: milliseconds
   expr    min      lq     mean median      uq    max neval cld
 base_0 1.4068 1.50905 1.625191 1.5613 1.62855 4.3454  1000  a 
  dplyr 4.5348 4.70640 5.007739 4.8595 5.09485 9.8918  1000   b
</code></pre><hr>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-r" data-lang="r"><span style="display:flex;"><span><span style="color:#a6e22e">autoplot</span>(mcb_grp_mod) <span style="color:#f92672">+</span> <span style="color:#a6e22e">ggtitle</span>(<span style="color:#e6db74">&#34;Group Modify: Base R vs dplyr&#34;</span>)
</span></span></code></pre></div><img src="https://swarnendu-stat.netlify.app/2025/01/power-of-base-r/index_files/figure-html/unnamed-chunk-18-1.png" width="672" />
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-r" data-lang="r"><span style="display:flex;"><span>agg_grp_mod <span style="color:#f92672">&lt;-</span> <span style="color:#a6e22e">aggregate</span>(time <span style="color:#f92672">~</span> expr, data <span style="color:#f92672">=</span> <span style="color:#a6e22e">data.frame</span>(mcb_grp_mod), mean)<span style="color:#f92672">$</span>time
</span></span></code></pre></div><p>So, base R code is on average 3 times <strong>faster</strong> than dplyr::group_modify. The absolute difference in 10k simulations is 33.825473 seconds.</p>
<h2 id="10-rowwise"><a href="#10-rowwise" class="header-anchor"></a>10. Rowwise
</h2><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-r" data-lang="r"><span style="display:flex;"><span>mcb_rowwise <span style="color:#f92672">&lt;-</span> <span style="color:#a6e22e">microbenchmark</span>(base_0 <span style="color:#f92672">=</span> <span style="color:#a6e22e">transform</span>(iris, 
</span></span><span style="display:flex;"><span>Sepal_sd <span style="color:#f92672">=</span> <span style="color:#a6e22e">apply</span>(<span style="color:#a6e22e">cbind</span>(Sepal.Length, Sepal.Width), <span style="color:#ae81ff">1</span>, sd),
</span></span><span style="display:flex;"><span>Petal_sd <span style="color:#f92672">=</span> <span style="color:#a6e22e">apply</span>(<span style="color:#a6e22e">cbind</span>(Petal.Length, Petal.Width), <span style="color:#ae81ff">1</span>, sd)),
</span></span><span style="display:flex;"><span>dplyr <span style="color:#f92672">=</span> iris <span style="color:#f92672">|&gt;</span>
</span></span><span style="display:flex;"><span>dplyr<span style="color:#f92672">::</span><span style="color:#a6e22e">rowwise</span>() <span style="color:#f92672">|&gt;</span>
</span></span><span style="display:flex;"><span>dplyr<span style="color:#f92672">::</span><span style="color:#a6e22e">mutate</span>(Sepal_sd <span style="color:#f92672">=</span> <span style="color:#a6e22e">sd</span>(<span style="color:#a6e22e">c</span>(Sepal.Length, Sepal.Width)),
</span></span><span style="display:flex;"><span>Petal_sd <span style="color:#f92672">=</span> <span style="color:#a6e22e">sd</span>(<span style="color:#a6e22e">c</span>(Petal.Length, Petal.Width))) <span style="color:#f92672">|&gt;</span>
</span></span><span style="display:flex;"><span>dplyr<span style="color:#f92672">::</span><span style="color:#a6e22e">ungroup</span>(),
</span></span><span style="display:flex;"><span>times <span style="color:#f92672">=</span> <span style="color:#ae81ff">1e3</span>)
</span></span></code></pre></div><hr>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-r" data-lang="r"><span style="display:flex;"><span><span style="color:#a6e22e">autoplot</span>(mcb_rowwise) <span style="color:#f92672">+</span> <span style="color:#a6e22e">ggtitle</span>(<span style="color:#e6db74">&#34;Rowwise: Base R vs dplyr&#34;</span>)
</span></span></code></pre></div><img src="https://swarnendu-stat.netlify.app/2025/01/power-of-base-r/index_files/figure-html/unnamed-chunk-20-1.png" width="672" />
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-r" data-lang="r"><span style="display:flex;"><span>agg_rowwise <span style="color:#f92672">&lt;-</span> <span style="color:#a6e22e">aggregate</span>(time <span style="color:#f92672">~</span> expr, data <span style="color:#f92672">=</span> <span style="color:#a6e22e">data.frame</span>(mcb_rowwise), mean)<span style="color:#f92672">$</span>time
</span></span></code></pre></div><p>So, base R code is on average 3 times <strong>faster</strong> than dplyr::rowwise. The absolute difference in 10k simulations is 21.835045 seconds.</p>
<h2 id="11-count-rows-by-group"><a href="#11-count-rows-by-group" class="header-anchor"></a>11. Count Rows by Group
</h2><p>Counting the number of rows by group is a simple yet frequent operation. The comparison here emphasizes the efficiency of base R‚Äôs table function against dplyr::count.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-r" data-lang="r"><span style="display:flex;"><span>mcb_count <span style="color:#f92672">&lt;-</span> <span style="color:#a6e22e">microbenchmark</span>(
</span></span><span style="display:flex;"><span>base_0 <span style="color:#f92672">=</span> <span style="color:#a6e22e">table</span>(iris<span style="color:#f92672">$</span>Species),
</span></span><span style="display:flex;"><span>dplyr <span style="color:#f92672">=</span> iris <span style="color:#f92672">|&gt;</span> <span style="color:#a6e22e">count</span>(Species),
</span></span><span style="display:flex;"><span>times <span style="color:#f92672">=</span> <span style="color:#ae81ff">1e3</span>
</span></span><span style="display:flex;"><span>)
</span></span><span style="display:flex;"><span>mcb_count
</span></span></code></pre></div><pre tabindex="0"><code>Unit: microseconds
   expr    min     lq      mean  median     uq    max neval cld
 base_0   14.9   21.3   32.3976   33.55   41.4  161.2  1000  a 
  dplyr 1427.3 1516.6 1620.9624 1544.90 1639.8 4518.4  1000   b
</code></pre><hr>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-r" data-lang="r"><span style="display:flex;"><span><span style="color:#a6e22e">autoplot</span>(mcb_count) <span style="color:#f92672">+</span> <span style="color:#a6e22e">ggtitle</span>(<span style="color:#e6db74">&#34;Count: Base R vs dplyr&#34;</span>)
</span></span></code></pre></div><img src="https://swarnendu-stat.netlify.app/2025/01/power-of-base-r/index_files/figure-html/unnamed-chunk-22-1.png" width="672" />
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-r" data-lang="r"><span style="display:flex;"><span>agg_count <span style="color:#f92672">&lt;-</span> <span style="color:#a6e22e">aggregate</span>(time <span style="color:#f92672">~</span> expr, data <span style="color:#f92672">=</span> <span style="color:#a6e22e">data.frame</span>(mcb_count), mean)<span style="color:#f92672">$</span>time
</span></span></code></pre></div><p>So, base R code is on average 50 times <strong>faster</strong> than dplyr::count. The absolute difference in 10k simulations is 15.885648 seconds.</p>
<h2 id="12-identify-distinct-rows"><a href="#12-identify-distinct-rows" class="header-anchor"></a>12. Identify Distinct Rows
</h2><p>Identifying unique rows is crucial for deduplication. This benchmark compares base R‚Äôs unique function with dplyr::distinct, shedding light on performance differences for this operation.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-r" data-lang="r"><span style="display:flex;"><span>mcb_distinct <span style="color:#f92672">&lt;-</span> <span style="color:#a6e22e">microbenchmark</span>(
</span></span><span style="display:flex;"><span>base_0 <span style="color:#f92672">=</span> <span style="color:#a6e22e">unique</span>(<span style="color:#a6e22e">rbind</span>(iris, iris)),
</span></span><span style="display:flex;"><span>dplyr <span style="color:#f92672">=</span> <span style="color:#a6e22e">distinct</span>(<span style="color:#a6e22e">rbind</span>(iris, iris)),
</span></span><span style="display:flex;"><span>times <span style="color:#f92672">=</span> <span style="color:#ae81ff">1e3</span>
</span></span><span style="display:flex;"><span>)
</span></span><span style="display:flex;"><span>mcb_distinct
</span></span></code></pre></div><pre tabindex="0"><code>Unit: microseconds
   expr   min     lq     mean median     uq    max neval cld
 base_0 546.6 587.15 644.9276  607.2 640.95 5494.7  1000  a 
  dplyr 255.9 285.75 315.5954  297.9 315.00 2635.5  1000   b
</code></pre><hr>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-r" data-lang="r"><span style="display:flex;"><span><span style="color:#a6e22e">autoplot</span>(mcb_distinct) <span style="color:#f92672">+</span> <span style="color:#a6e22e">ggtitle</span>(<span style="color:#e6db74">&#34;Distinct: Base R vs dplyr&#34;</span>)
</span></span></code></pre></div><img src="https://swarnendu-stat.netlify.app/2025/01/power-of-base-r/index_files/figure-html/unnamed-chunk-24-1.png" width="672" />
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-r" data-lang="r"><span style="display:flex;"><span>agg_distinct <span style="color:#f92672">&lt;-</span> <span style="color:#a6e22e">aggregate</span>(time <span style="color:#f92672">~</span> expr, data <span style="color:#f92672">=</span> <span style="color:#a6e22e">data.frame</span>(mcb_distinct), mean)<span style="color:#f92672">$</span>time
</span></span></code></pre></div><p>So, base R code is on average 2 times <strong>slower</strong> than dplyr::distinct. The absolute difference in 10k simulations is 3.293322 seconds.</p>
<h2 id="summary"><a href="#summary" class="header-anchor"></a>Summary
</h2><p>Given that these functions are very commonly used, it is fair to assume that these functions are used at least 5 times in a standard simulation code. If that simulation is repeated for 10k times, then the total gain we have by using base R is at least 11.7210869 minutes.</p>
<h2 id="conclusion"><a href="#conclusion" class="header-anchor"></a>Conclusion
</h2><p>This analysis demonstrates</p>
<ul>
<li>that while dplyr offers user-friendly functions and a consistent syntax,</li>
<li>base R can often be <strong>faster</strong> for basic operations, especially with large datasets.</li>
</ul>
<p>The choice between base R and dplyr should consider both readability and computational efficiency, dependent on the scale and complexity of your data tasks.</p>
<ul>
<li>For intensive data simulations, careful function choice can lead to significant performance gains,</li>
<li>underscoring the importance of benchmarking and profiling in the R language.</li>
</ul>

</section>


    <footer class="article-footer">
    
    <section class="article-tags">
        
            <a href="/tags/r/">R</a>
        
            <a href="/tags/dplyr/">Dplyr</a>
        
            <a href="/tags/tidyverse/">Tidyverse</a>
        
            <a href="/tags/base-r/">Base R</a>
        
    </section>


    </footer>


    
        <link 
                rel="stylesheet" 
                href="https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/katex.min.css"integrity="sha384-n8MVd4RsNIU0tAv4ct0nTaAbDJwPJzDEaqSD1odI&#43;WdtXRGWt2kTvGFasHpSy3SV"crossorigin="anonymous"
            ><script 
                src="https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/katex.min.js"integrity="sha384-XjKyOOlGwcjNTAIQHIpgOno0Hl1YQqzUOEleOLALmuqehneUG&#43;vnGctmUb0ZY0l8"crossorigin="anonymous"
                defer
                >
            </script><script 
                src="https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/contrib/auto-render.min.js"integrity="sha384-&#43;VBxd3r6XgURycqtZ117nYw44OOcIax56Z4dCRWbxyPt0Koah1uHoK0o4&#43;/RRE05"crossorigin="anonymous"
                defer
                >
            </script><script>
    window.addEventListener("DOMContentLoaded", () => {
	const mainArticleElement = document.querySelector(".main-article");
        renderMathInElement(mainArticleElement, {
            delimiters: [
                { left: "$$", right: "$$", display: true },
                { left: "$", right: "$", display: false },
                { left: "\\(", right: "\\)", display: false },
                { left: "\\[", right: "\\]", display: true }
            ],
            ignoredClasses: ["gist"]
        });})
</script>

    
</article>

    

    

     
    
        
    

    <footer class="site-footer">
    <section class="copyright">
        &copy; 
        
        2025 Welcome to My R Blog
    </section>
    
    <section class="powerby">
        
            <a href="https://www.r-bloggers.com/" target="_blank">R Bloggers</a> <br/>
        Built with <a href="https://gohugo.io/" target="_blank" rel="noopener">Hugo</a> <br />
        Theme <b><a href="https://github.com/CaiJimmy/hugo-theme-stack" target="_blank" rel="noopener" data-version="3.30.0">Stack</a></b> designed by <a href="https://jimmycai.com" target="_blank" rel="noopener">Jimmy</a>
    </section>
</footer>


    
<div class="pswp" tabindex="-1" role="dialog" aria-hidden="true">

    
    <div class="pswp__bg"></div>

    
    <div class="pswp__scroll-wrap">

        
        <div class="pswp__container">
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
        </div>

        
        <div class="pswp__ui pswp__ui--hidden">

            <div class="pswp__top-bar">

                

                <div class="pswp__counter"></div>

                <button class="pswp__button pswp__button--close" title="Close (Esc)"></button>

                <button class="pswp__button pswp__button--share" title="Share"></button>

                <button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>

                <button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button>

                
                
                <div class="pswp__preloader">
                    <div class="pswp__preloader__icn">
                        <div class="pswp__preloader__cut">
                            <div class="pswp__preloader__donut"></div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap">
                <div class="pswp__share-tooltip"></div>
            </div>

            <button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
            </button>

            <button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)">
            </button>

            <div class="pswp__caption">
                <div class="pswp__caption__center"></div>
            </div>

        </div>

    </div>

</div><script 
                src="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.js"integrity="sha256-ePwmChbbvXbsO02lbM3HoHbSHTHFAeChekF1xKJdleo="crossorigin="anonymous"
                defer
                >
            </script><script 
                src="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe-ui-default.min.js"integrity="sha256-UKkzOn/w1mBxRmLLGrSeyB4e1xbrp4xylgAWb3M42pU="crossorigin="anonymous"
                defer
                >
            </script><link 
                rel="stylesheet" 
                href="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/default-skin/default-skin.min.css"crossorigin="anonymous"
            ><link 
                rel="stylesheet" 
                href="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.css"crossorigin="anonymous"
            >

            </main>
        </div>
        <script 
                src="https://cdn.jsdelivr.net/npm/node-vibrant@3.1.6/dist/vibrant.min.js"integrity="sha256-awcR2jno4kI5X0zL8ex0vi2z&#43;KMkF24hUW8WePSA9HM="crossorigin="anonymous"
                
                >
            </script><script type="text/javascript" src="/ts/main.1e9a3bafd846ced4c345d084b355fb8c7bae75701c338f8a1f8a82c780137826.js" defer></script>
<script>
    (function () {
        const customFont = document.createElement('link');
        customFont.href = "https://fonts.googleapis.com/css2?family=Lato:wght@300;400;700&display=swap";

        customFont.type = "text/css";
        customFont.rel = "stylesheet";

        document.head.appendChild(customFont);
    }());
</script>

    </body>
</html>
